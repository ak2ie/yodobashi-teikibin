var PopupDialog;!function(){"use strict";function i(){return assetUrl}function t(i,t,a,n){function e(){var t;var o;return u=$("#wrapper"),l=$("body").find(".apContainer"),0===$(i).parents(".apContainer").length?(v=l.find(".js_ctlg_apOverlay"),c=l.find(".js_ctlg_apPopup"),t=$(".js_popupContentMenu").css("z-index"),void 0!==t&&(v.css("z-index",parseInt(t)+1),c.css("z-index",parseInt(t)+2))):(o=void 0,o=$(i).hasClass("puBox")?$(i):$(i).parents(".puBox"),l.append('<div id="js_overlay" class="apOverlay js_ctlg_apOverlay" style="opacity:0.3"></div>'),v=$("#js_overlay"),v.css("z-index",parseInt(o.css("z-index"))+1),l.append('<div class="apPopup js_ctlg_apPopup" id="js_childPopup"></div>'),c=l.find("#js_childPopup"),c.data("overlap",!0),v.on("click",function(i){i.stopPropagation()})),null!==a&&$(window).on("resize",function(){s()}),g}function s(){var i,o,e;return n<=0?d():void(h&&(i=h.outerWidth(),t>i&&(i=t),o=$(window).width()-i,e=0,$(".puHeadContainer").height()>25&&(e=$(".puHeadContainer").height()-25),$(a).height($(window).height()-n-e),c.css("top","20px"),o>20?c.css("left",o/2+$(window).scrollLeft()+"px"):c.css("left","20px")))}function d(){var i;var t,o;h&&(i=c,f.data("loading")&&(i=f),t=$(window).height()-h.outerHeight(),o=$(window).width()-h.outerWidth(),t>40?i.css("top",t/2+"px"):i.css("top","20px"),o>40?i.css("left",o/2+"px"):i.css("left","20px"))}var p;var r=null;var l;var c;var h;var u;var v;var f;var g=this;this.popupSelector=function(){return h},this.setContents=function(t,o,a,e,s,d){r=t;var p,l,u,v;var g;return h&&f.data("loading")&&(f.removeData("loading"),!s)?void function(i){g=$('<div id="js_imageViewerTmpDiv" style="top:-2000px;" class="fixed">'+o+"</div>"),$("body").append(g),p=g.width(),l=g.height(),n>0&&(l=$(window).height()-40),u=h.width(),v=h.height(),$("#js_imageViewerTmpDiv").remove(),f.animate({top:"-="+(l-v)/2,left:"-="+(p-u)/2},{duration:f.data("overlap")?"fast":"normal"}),h.animate({width:p,height:l},{duration:c.data("overlap")?"fast":"normal",complete:function(){i.setContents(t,o,a,e,s,d)}})}(this):(c.append($(o)),h=c.find("#"+t),c.data("overlap")&&h.on("click",function(i){i.stopPropagation()}),e&&(a?e.apply(this,[a,i]):e.apply(this)),void(d||!function(o){$("body").on("click.popupClose",function(a){a.target!==i&&($(a.target).parents("#"+t).length||(o.hide(),$("body").off("click.popupClose")))})}(this)))},this.startLoading=function(i,t,a){i=void 0===i||i,t=void 0===t?240:t,a=void 0===a?80:a;var n="js_loading";var e='<div id="'+n+'" class="puBox" style="width: '+t+"px; height:"+a+'px;">';e+='<div class="puContainer puLoadingBase">',i&&(e+='<img style="position: absolute; top: 50%; left: 50%; margin: -18px 0 0 -18px;" src="'+o+'">'),e+="</div>",e+="</div>",$("#"+n)&&$("#"+n).remove(),f=$(".js_ctlg_apPopupLoading"),f.append(e),l.append(f),h=f.find("#js_loading"),f.data("loading",!0),c.data("show",!1),this.show()},this.showContents=function(i,t){f.data("loading",!1),h=c.find("#"+r),c.data("show",!0),this.show(i,t)},this.show=function(i,t){if(h){if(!c.data("show")&&!c.data("overlap")){var o=$("#wrapper").find(".js_norenPoint");o.length&&o.waypoint("disable"),p=$(window).scrollTop(),u.css("top",0-$(window).scrollTop()+"px"),u.addClass("fixed"),v.show(),c.show()}t||(f.data("loading")?d():s()),i?h.show(i):h.show(),f.data("loading")?(f.show(),c.css("top",-4e3),f.css("z-index",parseInt(v.css("z-index"))+1)):f.hide()}},this.resize=function(){s()},this.hide=function(){if(c.data("show")||!c.data("show")||f.data("loading")){$("body").css("cursor",""),u.css("top",p+"px"),1===$(".js_ctlg_apOverlay").length?(u.removeClass("fixed"),$(window).scrollTop(p),h.hide(),c.hide(),c.data("show",!1),v.hide(),c.empty(),h.remove(),$("body").off("click.popupClose"),f.hide()):(h.remove(),c.fadeOut("normal",function(){$(this).remove()}),v.remove());var i=$("#wrapper").find(".js_norenPoint");i.length&&i.waypoint("enable")}},this.getPubox=function(i,o){var a='<div id="'+i+'" class="puBox" style="width: '+t+'px;">';return a+=o,a+="</div>"},e()}String.prototype.trim=function(){return this.replace(/^\s+|[\sã€€]+$/g,"")};var o=i()+"common/add/img/loading36.gif";PopupDialog=t}();