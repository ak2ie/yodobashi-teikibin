var CatalogOwlController=function(e,t,i){"use strict";function n(t){function i(){P=this.owl.currentItem,N=this.owl.visibleItems.length,s()}function n(){var e;o(),P=this.owl.currentItem,N=this.owl.visibleItems.length,C.setButtonDisplay(),y===!0&&g&&C.showPager(g,P,N,I.length),s(),"function"==typeof D&&(e=D,D=void 0,e())}function s(){if("undefined"!=typeof responsiveWidth){var e=window.innerWidth?window.innerWidth:$(document).width();if(e<=responsiveWidth){C.setPrevButtonDisplay(P);var t=0;var i;for(i=0;i<I.length;i++)void 0===I[i]&&t++;C.setNextButtonDisplay(P,N,t)}}}function l(){var e=window.innerWidth?window.innerWidth:$(document).width();var t=[];if("undefined"!=typeof responsiveWidth&&e<=responsiveWidth)t.push([0,1]);else{t.push([0,1]);for(var i=2;i<=11;i++)t.push([196*i,i])}return t}if(I=[],P=0,N=0,D=void 0,C.initializeAllItems(t)===!1)return void(v="Not found child elements.");if(W.itemsCustom=l(),W.responsiveBaseWidth=e.parent,"undefined"!=typeof responsiveWidth){var d=window.innerWidth?window.innerWidth:$(document).width();var u=!1;$(window).resize(function(){u!==!1&&clearTimeout(u),u=setTimeout(function(){var e=window.innerWidth?window.innerWidth:$(document).width();(e<=responsiveWidth&&d>responsiveWidth||e>responsiveWidth&&d<=responsiveWidth)&&(W.itemsCustom=l(),p.data("owlCarousel").reinit(W)),d=e},200)})}W.afterInit=i,W.afterAction=n,p.owlCarousel(W),o(),m.off("click"),m.on("click",function(e){e.preventDefault(),r()}),w.off("click"),w.on("click",function(e){e.preventDefault(),a()}),C.setButtonDisplay(),s()}function o(){var e=p.data("owlCarousel");if(void 0!=e){var t=p.find(".owl-item").height();p.find(".owl-item").each(function(){this.style.removeProperty?this.style.removeProperty("height"):this.style.removeAttribute("height")});var i=0;p.find(".owl-item").each(function(t){$(this);if(e.visibleItems)for(var n=0;n<e.visibleItems.length;n++)if(e.visibleItems[n]===t){$(this).height()>i&&(i=$(this).height());break}}),$("#productDetail").length&&(i+=25),t>i&&(i=t),i<h&&(i=h),p.find(".owl-item").height(i)}}function r(){var e;var t;var n;var o;e=P+N,I.length<=e&&(e=0),t=e+c-1,I.length<=t&&(t=I.length-1);var r=i?C.needMoreItems(e,t):void 0;void 0===r?(P=e,p.trigger("owl.goTo",P)):(n=r,o=n+f,I.length<=o&&(o=I.length-1),i(e,n,o))}function a(){var e;var t;var n;var o;0===P?(e=I.length-N,e<0&&(e=0)):(e=P-N,e<0&&(e=0)),t=e+c-1,I.length<=t&&(t=I.length-1);var r=i?C.needMoreItems(e,t):void 0;void 0===r?(P=e,p.trigger("owl.goTo",P)):(n=t-f-1,n<0&&(n=0),o=t,i(e,n,o))}function s(e){P=e,p.trigger("owl.goTo",P)}function l(e,t,i){function n(e,i){var n;var o=i.length;var r;for(n=0;n<o;n++)r='<div class="pListBlock owl-carousel-elem" style="height:100%">'+i[n]+"</div>",e?p.append(r):I[t+n]&&($(I[t+n]).replaceWith(r),I[t+n]=void 0)}var o=0===I.length;n(o,i),C.truncateProductName(),"undefined"!=typeof p.data("owlCarousel")&&(s(e),C.setButtonDisplay())}function d(){var e;var t;var i;if("undefined"!=typeof p.data("owlCarousel")){if(i=p.data("owlCarousel"),"undefined"!=typeof i.owl.owlItems)for(e=i.owl.owlItems.length,t=0;t<e;t++)i.removeItem();i.destroy()}I=[],P=0,N=0,D=void 0}function u(e){y=e}var v;var c=8;var f=20;var h=120;var p=$(e.parent);var m=$(e.next);var w=$(e.prev);var g=$(e.pager);var y=!1;var W={items:8,navigation:!1,rewindNav:!0,scrollPerPage:2,slideSpeed:500,rewindSpeed:1e3,mouseDrag:!1,touchDrag:!0,pagination:!1,paginationNumbers:!1};$.extend(W,t);var I=[];var P=0;var N=0;var D;var C=function(){return{truncateProductName:function(){$(p).find(".js_ppPrdName .js_productName").each(function(e,t){var i=$(t);var n=truncateProductName(i.text());i.text(n)}),$(p).find(".pName .js_productName").each(function(e,t){var i=$(t);var n=truncateProductName(i.text());i.text(n)})},invalidAllItems:function(e){return I[e]},needMoreItems:function(e,t){var i;for(i=e;i<=t;i++)if(this.invalidAllItems(i))return i},initializeAllItems:function(e){var t;var n=p.find(".owl-carousel-elem");if(0===n.length)return!1;if(this.truncateProductName(),void 0!==i)for(t=0;t<e;t++)void 0===n[t]&&p.append('<div class="owl-carousel-elem owl-carousel-none"></div>');var o=p.find(".owl-carousel-elem");for(t=0;t<o.length;t++)$(o[t]).hasClass("owl-carousel-none")===!0?I[t]=o[t]:I[t]=void 0;return!0},setButtonDisplay:function(){function e(e,t){t?e.css("display","block"):e.css("display","none")}var t=0;var i;for(i=0;i<I.length;i++)void 0===I[i]&&t++;var n=t>N;e(w,n),e(m,n)},showPager:function(e,t,i,n){var o;var r;o=Math.ceil(n/i),r=Math.ceil((t+i)/i),$(e).html("ページ："+r+" / "+o+" ")},setPrevButtonDisplay:function(e){0===e&&w.css("display","none")},setNextButtonDisplay:function(e,t,i){e+t===i&&m.css("display","none")}}}();return{init:function(e){n(e)},terminate:function(){d()},append:function(e,t,i){l(e,t,i)},enablePager:function(e){u(e)},status:function(){return v},adjustCarouselHeight:o}};